(this["webpackJsonpgoit-react-hw-05-movies"]=this["webpackJsonpgoit-react-hw-05-movies"]||[]).push([[6],{37:function(t,e,n){"use strict";n.d(e,"e",(function(){return u})),n.d(e,"c",(function(){return i})),n.d(e,"b",(function(){return s})),n.d(e,"a",(function(){return f})),n.d(e,"d",(function(){return l}));var c=n(40),a=n.n(c),r="https://api.themoviedb.org/3",o="a746c25728fd41f4fba1ed9293c9d732";function u(){return a.a.get("".concat(r,"/trending/all/day?api_key=").concat(o)).then((function(t){return t.data.results}))}function i(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return a.a.get("".concat(r,"/search/movie?api_key=").concat(o,"&query=").concat(t,"&page=").concat(e,"include_adult=false")).then((function(t){return t.data}))}function s(t){return a.a.get("".concat(r,"/movie/").concat(t,"?api_key=").concat(o,"&language=en-US")).then((function(t){return t.data}))}function f(t){return a.a.get("".concat(r,"/movie/").concat(t,"/credits?api_key=").concat(o,"&language=en-US")).then((function(t){return t.data}))}function l(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return a.a.get("".concat(r,"/movie/").concat(t,"/reviews?api_key=").concat(o,"&language=en-US&page=").concat(e)).then((function(t){return t.data}))}},98:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return j}));var c=n(80),a=n(39),r=n(0),o=n(2),u=n(37),i=n(16),s=n(74),f=n(1);function l(t){var e=t.onSubmit,n=Object(r.useState)(""),c=Object(a.a)(n,2),o=c[0],u=c[1],i=function(){u("")};return Object(f.jsx)("div",{children:Object(f.jsxs)("form",{onSubmit:function(t){if(t.preventDefault(),""===o.trim())return s.a.error("Enter correct request!");e(o),i()},className:"SearchForm",children:[Object(f.jsx)("input",{className:"SearchForm-input",type:"text",autoComplete:"off",value:o,autoFocus:!0,placeholder:"Search movie",onChange:function(t){u(t.currentTarget.value.toLowerCase())}}),Object(f.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(f.jsx)("span",{className:"SearchForm-button-label",children:"Search"})})]})})}var h=n(8);function b(t){var e=t.films,n=Object(o.j)().url,c=Object(o.h)();return console.log(c),Object(f.jsx)("ul",{children:e.map((function(t){var e=t.id,a=t.original_title;return Object(f.jsx)("li",{children:Object(f.jsx)(h.b,{to:{pathname:"".concat(n,"/").concat(e),state:{from:c}},children:a})},e)}))})}function j(){var t=Object(o.h)(),e=Object(o.g)(),n=Object(r.useState)(""),s=Object(a.a)(n,2),h=s[0],j=s[1],d=Object(r.useState)([]),m=Object(a.a)(d,2),O=m[0],g=m[1];return Object(r.useEffect)((function(){""!==h&&h&&(e.push(Object(c.a)(Object(c.a)({},t),{},{search:"?query=".concat(h)})),u.c(h).then((function(t){g(t.results)})).catch(console.log(Error)))}),[h]),Object(r.useEffect)((function(){if(""!==t.search){var e=new URLSearchParams(t.search).get("query");j(e)}}),[t.search]),Object(f.jsxs)("div",{children:[Object(f.jsx)(i.a,{children:Object(f.jsx)(l,{onSubmit:function(t){j(t)}})}),Object(f.jsx)(i.a,{children:Object(f.jsx)(b,{films:O})})]})}}}]);
//# sourceMappingURL=movies-page.869214e1.chunk.js.map