(this["webpackJsonpgoit-react-hw-05-movies"]=this["webpackJsonpgoit-react-hw-05-movies"]||[]).push([[0],{14:function(e,t,c){e.exports={link:"Navigation_link__2xbz8",activeLink:"Navigation_activeLink__1f5LI Navigation_link__2xbz8"}},31:function(e,t,c){e.exports={container:"Container_container__3tdqe"}},33:function(e,t,c){e.exports={header:"AppBar_header__2m1Az"}},34:function(e,t,c){e.exports={title:"PageHeading_title__1WCTh"}},64:function(e,t,c){},66:function(e,t,c){"use strict";c.r(t);var n=c(0),r=c.n(n),a=c(15),i=c.n(a),o=c(7),s=c(2),j=c(31),l=c.n(j),u=c(1);function b(e){var t=e.children;return Object(u.jsx)("div",{className:l.a.container,children:t})}var v=c(14),d=c.n(v),h=function(){return Object(u.jsxs)("nav",{children:[Object(u.jsx)(o.c,{exact:!0,to:"/",className:d.a.link,activeClassName:d.a.activeLink,children:"HomePage"}),Object(u.jsx)(o.c,{to:"/movies",className:d.a.link,activeClassName:d.a.activeLink,children:"MoviesPage"})]})},O=c(33),x=c.n(O);function f(){return Object(u.jsx)("header",{className:x.a.header,children:Object(u.jsx)(h,{})})}var g=c(21),m=c(9),p=c(11),_=c.n(p),S="https://api.themoviedb.org/3",k="a746c25728fd41f4fba1ed9293c9d732";var w=c(34),N=c.n(w);function y(e){var t=e.text;return Object(u.jsx)("h1",{className:N.a.title,children:t})}var E=function(e){var t=e.movies,c=Object(s.g)().url;return console.log(c),Object(u.jsx)("div",{children:Object(u.jsx)("ul",{children:t.map((function(e){var t=e.id,c=e.original_title;return Object(u.jsx)("li",{children:Object(u.jsx)(o.b,{to:"/movies/".concat(t),children:c})},t)}))})})};function C(){var e=Object(s.g)().url,t=Object(n.useState)([]),c=Object(m.a)(t,2),r=c[0],a=c[1];return console.log(e),Object(n.useEffect)((function(){_.a.get("".concat(S,"/trending/all/day?api_key=").concat(k)).then((function(e){return e.data.results})).then((function(e){return a((function(t){return[].concat(Object(g.a)(t),Object(g.a)(e))}))})).catch(console.log(Error))}),[]),console.log(r),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(y,{text:"Trending today"}),r&&Object(u.jsx)(E,{movies:r})]})}var F=c(35);function L(){var e=Object(n.useState)(""),t=Object(m.a)(e,2),c=t[0],r=t[1],a=function(){r("")};return Object(u.jsx)("div",{children:Object(u.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),""===c.trim())return F.a.error("Enter correct request!");var t;(t=c)!==c&&r(t),a()},className:"SearchForm",children:[Object(u.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(u.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(u.jsx)("input",{className:"SearchForm-input",type:"text",autoComplete:"off",value:c,autoFocus:!0,placeholder:"Search movie",onChange:function(e){r(e.currentTarget.value.toLowerCase())}})]})})}function I(e){var t=e.films,c=Object(s.g)().url;return console.log(c),Object(u.jsx)("ul",{children:t.map((function(e){var t=e.id,c=e.original_title;return Object(u.jsx)("li",{children:Object(u.jsx)(o.b,{to:"/movies/".concat(t),children:c})},t)}))})}function q(){var e=Object(n.useState)(""),t=Object(m.a)(e,2),c=t[0],r=t[1],a=Object(n.useState)([]),i=Object(m.a)(a,2),o=i[0],s=i[1];return Object(n.useEffect)((function(){""!==c&&function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return _.a.get("".concat(S,"/search/movie?api_key=").concat(k,"&query=").concat(e,"&page=").concat(t,"include_adult=false")).then((function(e){return e.data.results}))}(c).then((function(e){s(e.data.results)})).catch(console.log(Error))}),[c]),Object(u.jsxs)("div",{children:[Object(u.jsx)(b,{children:Object(u.jsx)(L,{onSubmit:function(e){r(e)}})}),Object(u.jsx)(b,{children:Object(u.jsx)(I,{films:o})})]})}function z(e){var t=e.poster_path,c=e.title,n=e.overview,r=(e.genres,e.vote_average);return Object(u.jsxs)("div",{children:[Object(u.jsx)("img",{src:"https://image.tmdb.org/t/p/w300".concat(t),alt:c}),Object(u.jsxs)("div",{children:[Object(u.jsx)("h2",{children:c}),Object(u.jsxs)("p",{children:["User Score: ",Object(u.jsxs)("span",{children:[10*r,"%"]})]}),Object(u.jsx)("h3",{children:"Overview"}),"Overview:",Object(u.jsx)("span",{children:n}),Object(u.jsx)("h4",{children:"Genres"}),Object(u.jsx)("ul",{})]}),Object(u.jsx)("div",{children:Object(u.jsx)("p",{children:"Additional information"})})]})}function A(){var e=Object(s.f)().movieId;console.log(e);var t=Object(n.useState)({poster_path:null,title:null,overview:null,vote_average:null,genres:null,id:null}),c=Object(m.a)(t,2),r=c[0],a=c[1];return Object(n.useEffect)((function(){(function(e){return _.a.get("".concat(S,"/movie/").concat(e,"?api_key=").concat(k,"&language=en-US")).then((function(e){return e.data}))})(e).then((function(e){var t=e.poster_path,c=e.title,n=e.overview,r=e.vote_average,i=e.genres,o=e.id;return a({poster_path:t,title:c,overview:n,genres:i,vote_average:r,id:o})})).catch(console.log(Error))}),[e]),Object(u.jsx)(u.Fragment,{children:r&&Object(u.jsx)(z,{poster_path:r.poster_path,title:r.title,overview:r.overview,genres:r.genres,vote_average:r.vote_average,id:r.movieId})})}function P(){return Object(u.jsxs)(b,{children:[Object(u.jsx)(f,{}),Object(u.jsxs)(s.c,{children:[Object(u.jsx)(s.a,{path:"/",exact:!0,children:Object(u.jsx)(C,{})}),Object(u.jsx)(s.a,{path:"/movies",exact:!0,children:Object(u.jsx)(q,{})}),Object(u.jsx)(s.a,{path:"/movies/:movieId",children:Object(u.jsx)(A,{})}),Object(u.jsx)(s.a,{children:Object(u.jsx)(C,{})})]})]})}c(64),c(65);i.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(o.a,{children:Object(u.jsx)(P,{})})}),document.getElementById("root"))}},[[66,1,2]]]);
//# sourceMappingURL=main.fb8c90c5.chunk.js.map